(this.webpackJsonpnerdysoft=this.webpackJsonpnerdysoft||[]).push([[0],{39:function(e,t,a){e.exports=a(79)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),i=(a(44),a(5)),o=a(6),s=(a(45),a(46),function(){return c.a.createElement("div",null,c.a.createElement("header",{className:"header"},c.a.createElement("p",{className:"logo"},c.a.createElement("span",{className:"first"},"Nerdy"),c.a.createElement("span",{className:"second"},"Soft"))))}),u=(a(47),function(){return c.a.createElement("div",null,c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"created"},"Created by Yurii Dubnytskyi")))}),m=a(4),p=a(7),d=a(3),E=a(2),f=(a(52),function(e){Object(E.f)();var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){l(new Date(e.data.date).toLocaleString()),console.log("date"+e.data.date),console.log("date1"+r)}),[r]),c.a.createElement("div",null,c.a.createElement("div",{className:"card"},c.a.createElement("p",{className:"card-title"},e.data.title),c.a.createElement("p",{className:"card-text"},e.data.description),c.a.createElement("button",{className:"card-btn",onClick:function(){return e.click(e.id)}},"Read More"),c.a.createElement("p",{className:"card-time"},r)))}),g=function(e){return{type:"SET_PAGE_OF_ITEMS",data:e}},b=function(e){return{type:"SET_PAGER",pager:e}},h=function(e){return{type:"SET_POSTS",data:e}},O=function(e){return{type:"SET_VALUE",inputValue:e}},v=function(){return{type:"DELETE_VALUE"}},j=function(e){return{type:"CHANCHE_SEARCH",data:e}},S=function(e){return{type:"SET_POST_ITEM",data:e}},P=(a(54),Object(p.b)(null,(function(e){return Object(i.a)({dispatch:e},Object(d.b)({setPostItem:S},e))}))((function(e){var t=Object(E.f)(),a=function(a){e.setPostItem(a),t.push("/post/:".concat(a))};return c.a.createElement("div",{className:"card-container"},e.posts.map((function(e,t){return c.a.createElement(f,{data:e,id:e._id,click:a,time:new Date(e.date)})})))}))),N=(a(55),Object(p.b)(null,(function(e){return Object(i.a)({dispatch:e},Object(d.b)({setPageOfItems:g},e))}))((function(e){var t=Object(n.useState)(1),a=Object(m.a)(t,2),r=a[0];a[1];Object(n.useEffect)((function(){l(r),console.log("here"+e.filter)}),[e.filter]);var l=function(t){var a=e.filter,n=e.pager;if(!(t<1)){n=i(a.length,t);var c=a.slice(n.startIndex,n.endIndex+1);e.search&&(e.setPager(n),e.setPageOfItems(c))}},i=function(e,t,a){t=t||1,a=a||4;var n,c,r=Math.ceil(e/a);r<=4?(n=1,c=r):t<=6?(n=1,c=8):t+4>=r?(n=r-6,c=r):(n=t-4,c=t+3);var l=(t-1)*a,i=Math.min(l+a-1,e-1),s=Object(o.a)(Array(c+1-n).keys()).map((function(e){return n+e}));return{totalItems:e,currentPage:t,pageSize:a,totalPages:r,startPage:n,endPage:c,startIndex:l,endIndex:i,pages:s}};return c.a.createElement("div",null,c.a.createElement("ul",{className:"pagination"},c.a.createElement("li",null,c.a.createElement("button",{disabled:1===e.pager.currentPage,onClick:function(){return l(1)}},"First")),c.a.createElement("li",null,c.a.createElement("button",{disabled:1===e.pager.currentPage,onClick:function(){return l(e.pager.currentPage-1)}},"Previous")),void 0===e.pager.pages?c.a.createElement(c.a.Fragment,null):e.pager.pages.map((function(t,a){return c.a.createElement("li",{key:a,className:e.pager.currentPage===t?"active":""},c.a.createElement("button",{disabled:e.pager.currentPage===t,onClick:function(){return l(t)}},t))})),c.a.createElement("li",null,c.a.createElement("button",{disabled:e.pager.currentPage===e.pager.totalPages,onClick:function(){return l(e.pager.currentPage+1)}},"Next")),c.a.createElement("li",null,c.a.createElement("button",{disabled:e.pager.currentPage===e.pager.totalPages,onClick:function(){return l(e.pager.totalPages)}},"Last"))))}))),_=(a(56),a(57),a(58),function(e){return c.a.createElement("div",{className:"btn-".concat(e.class)},c.a.createElement("button",{className:"btn ".concat(e.class),onClick:function(){return e.click()}},e.text))}),k=function(e){return c.a.createElement("div",{className:"input-main"},c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{className:"label-text"},"Search by title"),c.a.createElement("input",{value:e.value,className:"input",placeholder:"Search",onChange:function(t){return e.change(t.target.value)}})),c.a.createElement(_,{class:"search",text:"Search",click:e.clickF}),c.a.createElement(_,{class:"clear",text:"Clear",click:e.clickD}))},C=a(13),w=Object(p.b)((function(e){return{posts:e.posts.post,postPage:e.posts.pageOfItems,pager:e.value.pager,inputValue:e.value.inputValue,search:e.value.search}}),(function(e){return Object(i.a)({dispatch:e},Object(d.b)({deleteValue:v,setValue:O,setPager:b,changeSearch:j},e))}))((function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(["q"]),s=Object(m.a)(i,2),u=s[0],p=s[1];Object(n.useEffect)((function(){""===e.inputValue?p(e.posts):l(e.inputValue)}),[e.posts]);return c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"functional-container"},c.a.createElement(k,{change:l,clickF:function(){var t=e.posts.filter((function(e){return-1!==e.title.toLowerCase().search(r.toLowerCase())}));p(""===r?Object(o.a)(e.posts):t),e.setValue(r),e.changeSearch(!0),console.log(u)},clickD:function(){p(Object(o.a)(e.posts)),e.deleteValue(),l(""),e.changeSearch(!0),e.setPager({})},value:r}),c.a.createElement(C.b,{to:"/add"},c.a.createElement(_,{text:"Add Post",click:function(){return console.log()},class:"add"}))),c.a.createElement("div",{className:"listPost"},c.a.createElement(P,{posts:e.postPage})),c.a.createElement("div",null,c.a.createElement(N,{filter:u,pager:e.pager,setPager:e.setPager,inputValue:e.inputValue,search:e.search})))})),T=(a(59),a(17)),I=a.n(T),x=function(){return I.a.get("/api/post/getAll").then((function(e){return e}))},y=Object(p.b)(null,(function(e){return Object(i.a)({dispatch:e},Object(d.b)({setPost:h,changeSearch:j},e))}))((function(e){var t=Object(E.f)(),a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),p=u[0],d=u[1],f=function(){(function(e){return I.a.post("/api/post/create",e).then((function(e){return e}))})({title:l,description:p,date:Date.parse(new Date)}).then((function(){x().then((function(a){e.setPost(Object(o.a)(a.data)),e.changeSearch(!0),t.push("/")}))}))};return c.a.createElement("div",{className:"add-post_container"},c.a.createElement("div",{className:"new-post"},c.a.createElement("h2",null,"Add New Post"),c.a.createElement("p",{className:"new-pots_title"},"Title"),c.a.createElement("input",{value:l,onChange:function(e){return i(e.target.value)}}),c.a.createElement("p",{className:"new-post_description"},"Description"),c.a.createElement("textarea",{rows:20,cols:30,value:p,onChange:function(e){return d(e.target.value)}})),c.a.createElement("div",{className:"see-post"},c.a.createElement("h2",null,"How it will look like"),c.a.createElement("div",{className:"card"},c.a.createElement("p",{className:"card-title"},"Title"),c.a.createElement("p",{className:"card-title1"},l),c.a.createElement("p",{className:"card-text1"},"Description"),c.a.createElement("p",{className:"card-text"},p),c.a.createElement("button",{className:"card-btn1"},"Read More"))),c.a.createElement("div",{className:"btn-container"},c.a.createElement(_,{click:function(){return f()},class:"post",text:"Add"}),c.a.createElement(_,{click:function(){t.push("/")},class:"post",text:"Cancel"})))})),V=a(25),D=a.n(V),A=a(37),M=(a(78),Object(p.b)((function(e){return{item:e.posts.postItem[0]}}),(function(e){return Object(i.a)({dispatch:e},Object(d.b)({changeSearch:j,setPost:h,setPostItem:S},e))}))((function(e){var t=Object(E.f)(),a=Object(n.useState)({saving:!1,coment:""}),r=Object(m.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)({deleting:!1,coment:""}),u=Object(m.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(!1),g=Object(m.a)(f,2),b=g[0],h=g[1],O=Object(n.useState)(e.item.title),v=Object(m.a)(O,2),j=v[0],S=v[1],P=Object(n.useState)(e.item.description),N=Object(m.a)(P,2),_=N[0],k=N[1],C=Object(n.useState)(e.item.title),w=Object(m.a)(C,2),T=w[0],y=w[1],V=Object(n.useState)(e.item.description),M=Object(m.a)(V,2),F=M[0],L=M[1];Object(n.useEffect)((function(){e.changeSearch(!1),y(e.item.title),S(e.item.title),k(e.item.description),L(e.item.description),h(!1),d({deleting:!1,coment:""}),i({saving:!1,coment:""})}),[e.item]);var H=function(){var a=Object(A.a)(D.a.mark((function a(n){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setPostItem(n);case 2:return a.next=4,t.push("/post/:"+n);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"post-container"},l.saving||p.deleting?c.a.createElement("div",{className:"post-comment"},c.a.createElement("p",null,l.coment,p.coment)):c.a.createElement("div",{className:"post-info"},c.a.createElement("h2",null,"Post"),c.a.createElement("p",null,"Title"),c.a.createElement("p",null,T),b?c.a.createElement("input",{value:T,onChange:function(e){return y(e.target.value)}}):c.a.createElement(c.a.Fragment,null),c.a.createElement("p",null,"Description"),c.a.createElement("p",null,F),b?c.a.createElement("textarea",{value:F,onChange:function(e){return L(e.target.value)}}):c.a.createElement(c.a.Fragment,null)),c.a.createElement("div",null,c.a.createElement("h2",null,"Similay Posts"),0===e.item.similar.length?c.a.createElement(c.a.Fragment,null):e.item.similar.map((function(e){return console.log(e),c.a.createElement("div",null,c.a.createElement("p",null,e.title),c.a.createElement("p",null,e.description),c.a.createElement("button",{onClick:function(){return H(e.id)}},"Read More"))}))),c.a.createElement("div",null,l.saving||p.deleting?c.a.createElement(c.a.Fragment,null):b?c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){var t;i({saving:!0,coment:"saving"}),(t={id:e.item._id,title:T,description:F},I.a.put("/api/post/updatePost",t).then((function(e){return e}))).then((function(){x().then((function(t){e.setPost(Object(o.a)(t.data)),e.changeSearch(!0),i({saving:!0,coment:"Save"})}))}))}},"Save"),c.a.createElement("button",{onClick:function(){y(j),L(_),h(!1)}},"Cancel")):c.a.createElement("button",{onClick:function(){return h(!0)}},"Update"),l.saving||p.deleting?c.a.createElement(c.a.Fragment,null):c.a.createElement("button",{onClick:function(){var t;d({deleting:!0,coment:"deleting"}),(t=e.item._id,I.a.delete("/api/post/deletePost/"+t).then((function(e){return e}))).then((function(){x().then((function(t){e.setPost(Object(o.a)(t.data)),e.changeSearch(!0),d({deleting:!0,coment:"Deleted"})}))}))}},"Delete"),c.a.createElement("button",{onClick:function(){t.push("/")}},"Home")))}))),F=Object(p.b)(null,(function(e){return Object(i.a)({dispatch:e},Object(d.b)({setPost:h},e))}))((function(e){return Object(n.useEffect)((function(){x().then((function(t){e.setPost(Object(o.a)(t.data)),console.log(t)}))}),[]),c.a.createElement(C.a,null,c.a.createElement("div",null,c.a.createElement(s,null),c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/",component:w}),c.a.createElement(E.a,{path:"/post/:id",component:M}),c.a.createElement(E.a,{path:"/add",component:y})),c.a.createElement(u,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(38),H=function(e,t){return Object(i.a)(Object(i.a)({},e),t)},R={post:[],pageOfItems:[],postItem:[]},U=function(e,t){return t.post.filter((function(t){return t._id===e}))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return H(e,{post:Object(o.a)(t.data)});case"SET_POST_ITEM":return H(e,{postItem:U(t.data,e)});case"DELETE_POST_ITEM":return H(e,{postItem:[]});case"SET_PAGE_OF_ITEMS":return H(e,{pageOfItems:Object(o.a)(t.data)});default:return e}},B={pager:1,inputValue:"",search:!0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGER":return H(e,{pager:t.pager});case"SET_VALUE":return H(e,{inputValue:t.inputValue});case"DELETE_VALUE":return H(e,{inputValue:""});case"CHANCHE_SEARCH":return H(e,{search:t.data});default:return e}},W=Object(d.c)({posts:G,value:J}),X=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,q=Object(d.e)(W,X(Object(d.a)((function(e){return function(t){return function(a){console.log("[Middleware] Dispatching",a);var n=t(a);return console.log("[Middleware] next state",e.getState()),n}}}),L.a)));l.a.render(c.a.createElement(p.a,{store:q},c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.d150b41d.chunk.js.map